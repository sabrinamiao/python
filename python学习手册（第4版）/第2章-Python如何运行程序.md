# Python如何运行程序

## Python解释器简介

### 解释器使一种让其他程序运行起来的程序。解释器是代码与机器的计算机硬件之间的软件逻辑层。

## 程序执行

## 程序员的视角

## Python的视角

### 1. 编译成所谓的“字节码”

### 2. 转发到所谓的“虚拟机”中 （Python虚拟机（PVM））

#### PVM是迭代运行字节指令的一个大循环，一个接一个地完成操作。PVM是Python的运行引擎，是实际运行脚本的组件，是Python解释器的最后一步。

#### 源代码（m.py） => 字节码 （m.pyc） => 运行时 (PVM)

## 性能的含义

### Python代码在写好之后立即运行。Python的字节码不是机器的二进制代码，特定于Python的一种表现形式。这就是Python代码无法运行得像C或者C++代码一样快的原因。

## 开发的含义

### Python执行模块的另一种情况是其开发和执行的环境实际上并没有区别，这使开发的周期大大缩短。

## 执行模块的变体

## Python实现的替代者

### Python语言有三种主要实现方式：CPython、Jython和IronPython，以及一些次要的实现方式。

#### CPython

#### 和Python的其他两种实现方式相比，原始的、标准的Python实现方式通常称作CPython。 这个名字根据它是由可移植的ANSI C语言代码编写而成的这个事实而来的。如果你的机器上发现有预安装版本的Python，那么很有可能是CPython。和其他的替代系统相比来说，它运行速度最快、最完整而且也最健全。

#### Jython

#### 其目的是为了与Java编程语言集成。 Jython包含了Java类，这些类编译Python源代码，形成Java字节码，并将得到的字节码映射到Java虚拟机上。Jython的目标是让Python代码能够脚本化Java应用程序。Jython脚本可以应用于开发web applet和servlet，建立基于Java的GUI。

#### IronPython

#### 其设计目的是让Python程序可以与Windows平台上的.NET框架以及与之对应的Linux上的开源的Mono编写成的应用相集成。IronPython允许Python程序既可以用作客户端也可以用作服务器端的组件，还可以与其他.NET的语言进行通信。 IronPython的特定目标：主要为了满足在.NET组件中集成Python的开发者。

## 执行优化工具

### Psyco实时编辑器

#### Psyco是一个扩展字节码执行模块的组件，可以让程序运行更快。Psyco是一个PVM的增强工具。这个工具收集并使用信息，在程序运行时，可以将部分程序的字节码转换成底层的真正的二进制机器代码，从而实现更快的执行速度。Psyco的最大缺点是它实际上只能够为Intel x86架构的芯片生成机器代码。

### Shedskin C++转换器

#### Shedskin是一个引擎系统，它采用了一种不同于Python程序执行方法：它尝试将Python代码变成C++代码，然后使用机器中的C++编译器将得到的C++代码编译为机器代码。初步结果显示它具有比标准Python代码以及使用Psyco扩展后的执行速度更快的潜质，并且它是一个前途光明的项目。

### 冻结二进制文件

#### 冻结二进制文件能够将程序的字节码、PVM（解释器）以及任何程序所需要的Python支持文件捆绑在一起形成一个单独的文件包。主要有三种系统能够生成冻结二进制文件：py2exe（Windows下使用），PyInstaller（Linux及Unix上使用，并且能够生成自安装的二进制文件）以及freeze。

## 其他执行选项

### Stackless Python系统是标准CPython实现的一个变体，它不会在C语言调用栈上保存状态。这使得Python更容易移植到较小的栈架构中，提供了更高效的多处理选项，并促进了像coroutine这样的新奇的编程结构。

### Cython系统（基于Pyrex项目所完成的工作）是一种混合的语言，它为Python代码结合了调用C函数以及使用变量、参数和类属性的C类型声明的能力。